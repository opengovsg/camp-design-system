# OGP Design System Theme Generator

This directory contains a CLI to generate theme files from tokens defined in the `tokens` directory.
The CLI is built using [Style Dictionary](https://amzn.github.io/style-dictionary/#/).

## Generating themes

```
├── README.md
├── tokens/
│   ├── raw/
│       ├── $metadata.json
│       ├── $themes.json
│       ├── global.json
│       ├── <theme>.json
│   ├── transformed/
│       ├── <theme name>.json
├── themes/
│   ├── default/
│      ├── colours.ts
│      ├── shadows.ts
│      ├── spacing.ts
│      ├── textStyles.ts
│      ├── typography.ts
│   ├── <themes>/
│      ├── colours.ts
│      ├── shadows.ts
│      ├── spacing.ts
│      ├── textStyles.ts
│      ├── typography.ts


```

`tokens/raw` is generated by Figma Tokens and manually retrieved from [opengovsg/design-tokens](https://github.com/opengovsg/design-tokens).
In the future, the tokens could be pushed to this repo directly.

`tokens/transformed` is generated by a script that transforms the tokens in `tokens/raw` into a format that is compatible with Style Dictionary.

```bash
npm run transform
```

To generate theme files (which will also run the transformation script), run the following command:

```bash
npm run build
```

## Using generated themes

The generated themes are located in the `themes` directory. The theme files are in TypeScript and can be imported into your application that is using the OGP Design System.

```
├── src/
│   ├── App.tsx
│   ├── index.tsx
│   ├── theme/    // <- Import theme files from token-gen/themes/<name> here
│       ├── colours.ts
│       ├── shadows.ts
│       ├── spacing.ts
│       ├── textStyles.ts
│       ├── typography.ts
|       ├── theme.ts // <- Import theme files into this file
├── package.json
├── ...
```

The theme files can then be imported into your application's theme as follows:

```typescript
// src/theme/theme.ts

import { extendTheme } from '@chakra-ui/react'
import { colours } from './colours'
import { shadows } from './shadows'
import { spacing } from './spacing'
import { textStyles } from './textStyles'
import { typography } from './typography'

import { theme as ogpTheme } from '@opengovsg/design-system-react'

export const theme = extendTheme(ogpTheme, {
  colors: colours,
  shadows: shadows,
  space: spacing,
  fontSizes: typography.fontSize,
  fontWeights: typography.fontWeights,
  lineHeights: typography.lineHeights,
  letterSpacings: typography.letterSpacing,
  textStyles,
})
```

The exported theme can then be used in your application as follows:

```typescript
// src/index.tsx

import { theme } from './theme/theme'

function App() {
  return <ThemeProvider theme={theme}>...</ThemeProvider>
}
```
