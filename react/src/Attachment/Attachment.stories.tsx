import { useState } from 'react'
import { ErrorCode, FileRejection } from 'react-dropzone'
import { Meta, StoryFn } from '@storybook/react'
import { Buffer } from 'buffer'

import { getMobileViewParameters } from '~/utils/storybook'

import { Attachment, AttachmentProps } from './Attachment'

const MOCK_OGP_LOGO_FILE = new File(
  [
    Buffer.from(
      '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',
      'base64',
    ),
  ],
  'mock file.png',
  { type: 'image/png' },
)

const MOCK_OGP_ICON_FILE = new File(
  [
    Buffer.from(
      'iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAIAAAAiOjnJAAAMPWlDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnltSIbRAKFJCb4JIL1JCaJEqVbARkgChhBgIKnZEVHAtqKiADV0VUXQtgKwVsbso9r5YUFhZFwt25U0K6LKvfO9837nz3zNn/nPm3Jl77wCgfoIrFuegGgDkigoksaGBzPHJKUxSN0AAGagDW2DM5eWLWTExEQDKYPt3eXcTekO55iDj+mf/fxVNviCfBwASA3EaP5+XC/FBAPAanlhSAABRZjefViCWYahAWwIThHixDGcocI0MpynwPrlPfCwb4jYAyKpcriQDALUr0M4s5GVADrU+iJ1EfKEIAHUmxH65uXl8iFMhtoE+Yohl/J5pP/Bk/I0zbYiTy80Ywoq5yIUcJMwX53Bn/J/l+N+SmyMdjGEFVTVTEhYrmzOs2+3svHAZVoW4V5QWFQ2xFsQfhHy5P8QoNVMalqDwRw15+WxYM8CA2InPDQqH2BDiEFFOVITSnpYuDOFADFcIOl1YwImHWA/ixYL84Dilz2ZJXqwyFtqYLmGzlPZzXIk8rizWQ2l2AkvJ/zpTwFHyY2pFmfFJEFMhtigUJkZBrAaxY352XLjSZ0xRJjtq0EcijZXlbwFxrEAUGqjgxwrTJSGxSv+y3PzB+WKbM4WcKCXeX5AZH6aoD9bG48rzh3PBrghErIRBHkH++IjBufAFQcGKuWPdAlFCnJLng7ggMFYxFqeKc2KU/riZICdUZjeD2DW/ME45Fk8sgAtSwY+niwti4hV54kVZ3LExinzwFSACsEEQYAIp1DSQB7KAsL23qRfeKXpCABdIQAYQAAelZXBEkrxHBK9xoAj8CZEA5A+NC5T3CkAhtH8dsiquDiBd3lsoH5ENnkGcC8JBDryXykeJhqIlgqfQIvxHdC5UHsw3B6qs/9/bB63fLSxoiVBapIMRmeqDnsRgYhAxjBhCtMUNcD/cB4+A1wCozrgn7jU4j+/+hGeEDsJjwg1CJ+HOFGGxZFiWkaAT8ocoa5H2Yy1wK8jphgfivpAdMuMM3AA44K4wDgv3h5HdoJWtzFtWFeYw7r/N4IenofSjOFFQii4lgGIzfKSanZrbEIus1j/WR5Fr2lC92UM9w+Ozf6g+H7bhwz2xxdgB7Cx2EjuPHcGaABM7jjVjl7CjMjy0up7KV9dgtFh5PtmQR/iPeINPVlbJfKd6px6nL4q+AsF02TsasPPEMyTCjMwCJgt+EQRMjojnOJLp7OTsCoDs+6J4fb1hyL8bCOPCd1vxWwB8+QMDA0e+2yLgXj+4EG7/Z99t1sfga0IXgHPlPKmkUGHDZRcCfEuow52mD4yBObCB83EG7sAHBIBgMBZEg3iQDCbD7DPhOpeAaWAWmA9KQTlYAdaAKrAJbAU7wR6wHzSBI+AkOAMugivgBrgHV08XeAH6wDvwGUEQEkJD6Ig+YoJYIvaIM+KJ+CHBSAQSiyQjqUgGIkKkyCxkAVKOVCBVyBakDvkFOYycRM4jHcgd5BHSg7xGPqEYqopqo0aoFToK9URZaDgaj05CM9CpaBFagi5D16G16G60ET2JXkRvoJ3oC7QfA5gKxsBMMQfME2Nj0VgKlo5JsDlYGVaJ1WINWAt8ztewTqwX+4gTcTrOxB3gCg7DE3AePhWfgy/Fq/CdeCPehl/DH+F9+DcCjWBIsCd4EziE8YQMwjRCKaGSsJ1wiHAa7qUuwjsikcggWhM94F5MJmYRZxKXEjcQ9xJPEDuIT4j9JBJJn2RP8iVFk7ikAlIpaT1pN+k46Sqpi/SBrEI2ITuTQ8gpZBG5mFxJ3kU+Rr5Kfk7+TNGgWFK8KdEUPmUGZTllG6WFcpnSRflM1aRaU32p8dQs6nzqOmoD9TT1PvWNioqKmYqXyjgVoco8lXUq+1TOqTxS+aiqpWqnyladqCpVXaa6Q/WE6h3VNzQazYoWQEuhFdCW0epop2gPaR/U6GqOahw1vtpctWq1RrWrai/VKeqW6iz1yepF6pXqB9Qvq/dqUDSsNNgaXI05GtUahzVuafRr0jVHa0Zr5mou1dyleV6zW4ukZaUVrMXXKtHaqnVK6wkdo5vT2XQefQF9G/00vUubqG2tzdHO0i7X3qPdrt2no6XjqpOoM12nWueoTicDY1gxOIwcxnLGfsZNxiddI12WrkB3iW6D7lXd93oj9AL0BHplenv1buh90mfqB+tn66/Ub9J/YIAb2BmMM5hmsNHgtEHvCO0RPiN4I8pG7B9x1xA1tDOMNZxpuNXwkmG/kbFRqJHYaL3RKaNeY4ZxgHGW8WrjY8Y9JnQTPxOhyWqT4yZ/MHWYLGYOcx2zjdlnamgaZio13WLabvrZzNoswazYbK/ZA3Oquad5uvlq81bzPgsTi0iLWRb1FnctKZaelpmWay3PWr63srZKslpk1WTVba1nzbEusq63vm9Ds/G3mWpTa3PdlmjraZttu8H2ih1q52aXaVdtd9ketXe3F9pvsO8YSRjpNVI0snbkLQdVB5ZDoUO9wyNHhmOEY7Fjk+PLURajUkatHHV21DcnN6ccp21O90ZrjR47unh0y+jXznbOPOdq5+suNJcQl7kuzS6vXO1dBa4bXW+70d0i3Ra5tbp9dfdwl7g3uPd4WHiketR43PLU9ozxXOp5zovgFeg11+uI10dvd+8C7/3ef/k4+GT77PLpHmM9RjBm25gnvma+XN8tvp1+TL9Uv81+nf6m/lz/Wv/HAeYB/IDtAc9Ztqws1m7Wy0CnQEngocD3bG/2bPaJICwoNKgsqD1YKzghuCr4YYhZSEZIfUhfqFvozNATYYSw8LCVYbc4Rhwep47TN9Zj7OyxbeGq4XHhVeGPI+wiJBEtkWjk2MhVkfejLKNEUU3RIJoTvSr6QYx1zNSYX8cRx8WMqx73LHZ07KzYs3H0uClxu+LexQfGL4+/l2CTIE1oTVRPnJhYl/g+KSipIqlz/Kjxs8dfTDZIFiY3p5BSElO2p/RPCJ6wZkLXRLeJpRNvTrKeNH3S+ckGk3MmH52iPoU75UAqITUpdVfqF240t5bbn8ZJq0nr47F5a3kv+AH81fwega+gQvA83Te9Ir07wzdjVUZPpn9mZWavkC2sEr7KCsvalPU+Ozp7R/ZATlLO3lxybmruYZGWKFvUlmecNz2vQ2wvLhV3TvWeumZqnyRcsj0fyZ+U31ygDX/kL0ltpAuljwr9CqsLP0xLnHZguuZ00fRLM+xmLJnxvCik6OeZ+EzezNZZprPmz3o0mzV7yxxkTtqc1rnmc0vmds0LnbdzPnV+9vzfip2KK4rfLkha0FJiVDKv5MnC0IX1pWqlktJbi3wWbVqMLxYubl/ismT9km9l/LIL5U7lleVflvKWXvhp9E/rfhpYlr6sfbn78o0riCtEK26u9F+5s0KzoqjiyarIVY2rmavLVr9dM2XN+UrXyk1rqWulazvXRaxrXm+xfsX6L1WZVTeqA6v31hjWLKl5v4G/4erGgI0Nm4w2lW/6tFm4+faW0C2NtVa1lVuJWwu3PtuWuO3sz54/12032F6+/esO0Y7OnbE72+o86up2Ge5aXo/WS+t7dk/cfWVP0J7mBoeGLXsZe8v3gX3SfX/8kvrLzf3h+1sPeB5oOGh5sOYQ/VBZI9I4o7GvKbOpszm5uePw2MOtLT4th351/HXHEdMj1Ud1ji4/Rj1WcmzgeNHx/hPiE70nM04+aZ3Seu/U+FPX28a1tZ8OP33uTMiZU2dZZ4+f8z135Lz3+cMXPC80XXS/2HjJ7dKh39x+O9Tu3t542eNy8xWvKy0dYzqOXfW/evJa0LUz1znXL96IutFxM+Hm7VsTb3Xe5t/uvpNz59Xdwruf7827T7hf9kDjQeVDw4e1v9v+vrfTvfPoo6BHlx7HPb73hPfkxdP8p1+6Sp7RnlU+N3le1+3cfaQnpOfKHxP+6HohfvG5t/RPzT9rXtq8PPhXwF+X+sb3db2SvBp4vfSN/psdb13ftvbH9D98l/vu8/uyD/ofdn70/Hj2U9Kn55+nfSF9WffV9mvLt/Bv9wdyBwbEXAlX/iuAQUXT0wF4vQMAWjIAdHg+o05QnP/kgijOrHIE/hNWnBHl4g5AA2xkv/HsEwDsg2o1D3IHACD7hY8PAKiLy5AOntXk50qZEOE5YHOQDN1ZFTUJDBPFmfOHvIe3QMbqCoa3/wJsH3sGWQFopAAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAyKADAAQAAAABAAAAyAAAAAC4kx+vAAAZVklEQVR4Ae1deXxURbbu7nTS6U53FtYEENl32ZVNwYiiCEZBnoAzyiIRUFFH0WEGeW90dPSpIyIEBMUREH0O8Hzgk2WAARERWWSTfUcg7KTT3dm605lPM+aXX+cudW+f6r7p1P0nnXvrnjr1ne/WcqrqlLmsrMwkLoEANQIWaoFCnkDgZwQEsQQPuCAgiMUFViFUEEtwgAsCglhcYBVCBbEEB7ggIIjFBVYhVBBLcIALAoJYXGAVQgWxBAe4ICCIxQVWIVQQS3CACwKCWFxgFUIFsQQHuCAgiMUFViFUEEtwgAsCglhcYBVCBbEEB7ggIIjFBVYh1GpMCE5dKg0ETTfUjrPFG1PBaGpVGjQBn3irqVGdOMNWDMYiFiDbfLDkw/WFe06XwnQpDvMLWY6sm23RNKPB8v7f74tmriy86v15C0yDNMtLDzpubZtgMB1/VsdsnF06Vz3BPyz2bj0aCIHp0X62yVlJITdr5r85qwrmrisKKXvfdvHP3GtvmWGsOsIoxFqzu/jVZQXuAum9aJ8+k9yhsbGAC7FuBP71FZv6TL0WlEIILeI7o5yZHQxUdUW/jQ6Umt5a7nthkU+OVbDZvHWFEbCcwbPIWe2TZBXURhfi+YXe+esL83xBg5QiyjXW3tP+15YVHDz3c49K+Zo/0XVzi5rbk992zD9ujkcZIjyt5TS/9YjTCEBFs8ZatrX40ZkeFlYBspmrCozyMaqal0OCWasKWKRe85Y98aFnzZ5ilsRc00SNWBj9/XmpbN1etcy7T5Wu2hl9vKoqFoE73xwsQfEZMyr2m15Y6HtvZQHaxyheUWgKC4rLpn7mXb/Pr7XYNqtp6eSUG+vGaX2xWqfHYHnw63nouWu9ere2vvWIy2U3a32RJH2ka6wr+cER77p1sAqlLQ6Y5q6tcb34r/eX6GAV4NpyODBiuvtiXnQqrogSy1dU9uzHnlOX9Bd19a6SU5dDHV0kX5gxhaA5W/B1qOOKXdWfrgYnfuBxR6N3Gjli7Tvtz/rvvL2/uNTZoQlJiXmed76sQZXWq8t8J8P4DoHesQulw9527ziuueMRgrzWfyNErB/PBEbneC7nS3n3NKq8cb9/29FIw6RRR5rkcDFg4By+rIvusuz3PVsOl4Qvil1CJIi166R/wjyPn3VYo658zppC/a2punhDpCgsMb2yxEelCprU5z72RrLe4k6sr3YWj5rlyS8kqKsqUN51MjBnNZNfp+KVavdj3d7iM1coP5+CEtPY2Z7l2wiqQBYw+RILddUfPyP77CqX5+ONReeu0dWBlUUb4De+woVh9NkVSjDtcx+GmQoJqB5xJNY1b/CVJQWcQpzCDbh4k/7hEhV8nOR8/m3R4fO8PpsXP/HuPMG9k8qLWMdyS+HWO36RFzqw6Kebiz2x2NfyFgXfXsGxoUfvbeI8z+HzfL02XIgFZzHcJ17OFQqm+i9EyfvHqaIqF3viYmkJX6ObivymqZ/6UOvzu7gQa9bqwotuyo6nXPmTbNGZr5DTh+R+sp2LUUJ0O5Jb+tT8fNRenC76Mrz0mZfE+6Ja4Hs6xzeoFYPzhk3qxQ3qGokle98fDYyb46YcrleyGTGxsGRvxQ5uX0ElvRvWsozJtFe6EVM/X7zfcVPjSHwz+86UfvRPLjMZlMRavr1o0aZIuEkyO8RjmUPbRjG7WDnNaZmT7erRIhIFnLWqEC5+8u+SbNkMuuoPvZN39irfrlVivOn3QxwP3Jxo3H1PdCaCu3zzoZLXlvou8Gqv/q0rdkPNeszZqQnlAl0aYvkDJvQEvzvCdzDTvlHcKyOSjLYdhY5I0pIuXC/93QLv/p84Om6QcW2XefXUNMJdnDRN4fSvfLxZNaxnwsKnU2oaq2Dy9LS4RZNSBnfj252/6in72wZK5xlBjbVubwm2iHDysANZeBQmDbSPyrTHR6I7K11tRP0umsVVu4pf+kzDYm6tOmOBbk626xaiHSvh1lgo8N82FPJjFbad5GQ7x91Zo1kFiqBPObib7cOJrtQkXq47LNCd8ok39zpNLzlcYi36uhBDVq0fB2N6dNXnjXfd2oZvK8CojBGSdW8ej9GiM5EXt654yqYs9pKUNCxiHTgbgJOdRI+qQuqnmGdnu1o1iMSQu2ruhr3T/gbrwkmu9FRe3MKSpN2nCLwP+vtYmM8a8mYeVlXzsAF2mMwYk0w4SOGhZBRlYpoPTvPy0CnkamSkWlZMSQ0TfP01FgYRnFiVYDUJVinTBVZ/Z5QL0WaUk+l7mpsXnP/PcEeIOjXDIrvPNnNxsmMqY8FToq5Sp0TdFMvCScltGnIZKs9fX4RFmupKyKfQSazXlvmwm1terM4njetYPpiQjG6Ezvdr2Gv1Uix/fdSZxCF8GDYoTP//sCotPcTac8q/+RAXJ/u0YUmOWFwJw4/wN9SJmzHGxcPDh039WAOsW3PNxMLyuhwOI0FA89xge4+WlNNVukGpXi/e0jJ+xhgnj630Ly/xwU+p79JMrH/sLq4adE9f3pXf+uNQx+jYXQZTuaQ8fiNa5Mg+9C3ihh/9y7fr7ElrJtZSii2UIeDe3j7+wZ6JITfFv5oQyL7T0SJdszVVs5i3tlDfhlBtqmCk8MMJ4t5VHZf5P4eJEKOqJlZJAAdEzrjkdo2IB4nnrwe/+F7P5gUNxAoGTWh0ET2B8Po5eOZoZ51kDWoQ5h5jojLSLHPHuzC7SlsufRF+NFj0m0MlJy6S0spkenaQvTPp+jJaTKudtBSH5aHexJ0tRNw4mqu5mdJArE+oN4j2aWMddXvMrluPFilH3+5oVk+DWVn01DEjzKrB3tMBbOpgUYI9zZ/+w8meWKRkRMBhM818zGUnXRGC4aHWmWlWYpHv5RjYJaF+KmvujJiKZOUIwGv6+weIx0Pz1mrrwjOZFnPp4Cyh2bDCeupQB6FAISoEgaE9bJ2bUI4QNx/yHzqnocliItamA8W084JP3G1PdjBlHYKX+JcdgYd6EbsGNTlLmay7chflHtSWGRbs32IHSKTUh8DArraOpLtesbmBfYZHnVgIjbrpAGU7+ML9DhyJJi7eCMBHOGUIZU8LISf3n2FlgjqxFm4s0ufUlwTu1jbWni1JRyyS2YibvyCAk62G9aR0a21krmJUiIWq7//0TkNKGhf7bSTvi5ucEBiTmWihc8Wjm8XYGqoQ64cTfpJQx+Wotb8hrmtTsTCGE4WkxcL1gDl+6Wfa74IMh9nGhirECid6fVW1s+8UffaqqHC/k9WdsjX8ku1EIxVifXuItbOmCg9W/vdrR1lC1RxFgnIEMm9KIFxR881BJkooEQvn3jA2qCwmHN7HVhNCxLBAEeE06GL9ti9ZW4Eg4SzxqpWI9e1hJm6ywFQ/1TzyVtFtZ4GKS5r7uiUiVB2VaBZPqVJmhAcZtG1oxX55cUULATgO7+hAZoC1e9Qd5krEwgE4VEAM6CR8V1RY6pRzW1syYh2/GLySrxKwQ5ZYpy+Xngjv3KkKADLSzAM6iW57BR7R+dG9eUJTunVaiBmuXAxZYuG4WKrgRH3bJmDXvLiii4A1zpTZnqzdUD04Q5ZYO+k2TfRqRVYJR9c21T33JnQ11rZjKt0kaWJh38R3RENCR4IJu96qu0liQ/+BXRJhDpJry2E/As8qXNLEwvG4OIWM5OrZKl60gyRIhi8EW8RgjvDlQALWJZy8pMQsaWL9SBek744ORN8ICR41XgihOZRP4JImFtWxY2aziXCUW+NZQQAAzAGjkFzKK5WliaXa52fUrGGaBYcsMCYWySKAAMwBo5BkdErRGyWRB/aknrik4qVg1Ix8xzdjviKZAgJYvKTwlP3RWcUTbiWIdeFaaRFRzz0lSUI+u+oiJQ8EOjehcSqevhxETCu5S8LweT755HJiZO4jTKrME3E7agg0rU9TYyG6ca58pSVheDJamUyN60rIjxqiIuNfEGhch4ZYEHZO/rQBCcNf95FF/iAsg2AFFQLpqXFUK01yr8v2xSWIdUGehprKhlFtk3o0zbmmfEViZQQwadgig6bSUjhFUIJY7kKaxjDNaab6MpSREk+1IkDlcbicL9u4SRDLU0BDrPopEsK1QiDS80CAKhyLwg4uCdu7C2VpqKmQnM5N0KSDSCyJANVo/bJblioSxCrQGSc3tAj1hK8hFBKj/E9lmoIS2cZNgli+ItnUmoCpTR0MU1PuIrECAil2CbsrpJd7VKiJWAVEMYvsCUSznXLFEvf1IkA1D10oP0MjwVyqvYSJglh6DV9d3guUyjZuEsQKKMwAaSmxqLG0oFUt0wZk/aMmCWKR1VjxoimslnRhV1oh6L8Esaii3pQEZOtJdtVFSiMjoBAzQYJYViJmKQwZjAyW0I0dAcwOyV1SxJJPLSdF8j7V6FJSuLhpBATi42R7OxLEohrNFStt4jACLEKHcBGwya8xkCAWjjYgudxEc44kygghlRGg6qUo1EESxHImytZvlZVT/X1efnmh6rsiAVcEzl2TnePTlG+S/DnLEsRyERHrovwMpSbtRWJyBC4RmaaWS7YOkiIW0ZkRF/NoPgtyWIVAqm++rvxBkxLESnXI0lCTSS7llxEGiNeUtUisjIDCyk/lF0OepssvuZMglgINQ+Qq/4soSGevyvv8lV8WT3kicPwCzYg9XX7vqwSx6iTT1FhA5sxlQSyeBNElG+uJPdqOiJPNRmEtpwSx4qgWVdDtqJYtmXigHQHVYHzsIhvVlnWmSxDLSRa52XSeaFjLXlSRUhUBBAFVTcOSAPM5DWtpIVZGLStVnVUs5qFZTBTZNEdyaYiVnmrRNlcYH2dqXl+iJtNRfMK4yzpyF69IIoDzkSTva73ZRHGbuzSB2t8gPwmkJX/Ebc4n2vOjJVuRVhYBmANGkX2s5UFzxRgQ0sRqRbRTFh6HfadpRrZaiizSyiIAc1AFw25cV7aDheylidW9OU2kSmSw8gf5BfeyxRcPeCFAaI52jZSaNWlitW5gpQqvu35fCeLdiMsICBT7TTAHiSboiLfK0E4si8XUVpGP7Moh+vLBszS9RfZMRUpJBHYcL6EKht22UZzywd7SNRbU6tNGiY+SesvdXL9PEEsOm4je/+EkWdvRr51KZ0mWWP3akYXR3rCfpvqNqBFiMbPNbGdYshS9Y2OVekeWWC0yrHXkV9uw5F2RBsEqd58SlVYFHtH5gYnng+doXKMoQG35BTPlxZMlFiaiCc/AWfQ10bRndIwSC7l+uYOs3YBrtEW63hoLWHYiCq8LUYfOk30rsWDkaJRh4wEyYvVV62ChfLI1Fp51aarCSnZ8froS3ERXMPZ8RcpyBHad9J8gcrhDYP+b1PvfSsRqnm5V2Oqq1WZvrSig2ryvNesanh4b0l//ooAKBJwt3elGlSEh8lIiFnZEd2tGVmmhC7/9GFltTAVTTZDz/RH/Ibpue+/W8XBzql4qSe7rTrTJ8BdFlm0lChaoWiyRoBICG36k/J77sp0trUKsuzraEPy4kpJh/YSn9OBZMh9dWKrUmJcRin35drLvuZbT3KOVegcL6KoQC7uiB3VhEsRiKUS9mbu2kCWlSEOFwKebi6mmcaDSvV0SGEOsqxALsob0kN/uqr30W4/4xQ5p7bDpfOOqJ7hsK6UHkf30SXVitcywdmmqtPJGU6Hx9by6zKfpFZFYNwJvfOHz0vHKZTffdCPrYE6dWCjVgz0pu/CbDwVW7yJr9XWDHvMvbvyxZM0eypm0AZ3inYlMhAG2TOn630RJLOQ6c1WhQvjKmDd5ZAr4xTbir/feLhpowEQsh83cmmixcjmmP10NLvxa9OI5EmzPqcAmurUMULRpPUvXZup+0YoiMRELqZ/PclS8Q/IDlRa6liSihJAQBBCO5bkFHtp5jhfvd2iahmElVs9W8a0bkHXhAQSK/d5KsnmGEGRr8r/BoGnKYq/C8Uk6wMFyhD5ttHmdWIkFbYaRduEhcMWOkm3HKHuXOiCLvVe++qF45wliL/TYTM274zUQa0iPRExAEloCldYzH3mOnCdGgVDDaifKW1T2/j+IO6+pSebMDtqqK+CmgSgJVtOkgXZarH3FpknzvURHYdCqVv2klTeCGBjRqq6vpdJALKh7d2dbywxtr6gWMjcvOG+t6Gyp4qSSwB/A2hjfpgPEXYtku3lEH83tIHTVxhKMC7L7E1daUGL2miLamQcVI8Ti47lrCz7fQuy4Ak7P3eeoJx+2TwFIbcSCoAGdbMrRIBQyU3iElWjbjxN/bQrZxdgjxFL7+3f0rGpWz5Kld92UZmJhkdfjd9FXWtgt/cxHXqoQhjHGG+XinLpUOn6uJ89Hf3LRS8OSFAIVKWulmVgQN7ib7Va67awV+mFE8/RHXqrzXSvExvaPM1dKR0x3H7tAv1elc5O4cEJ46CEWTDU5y6GbywqWxojmdx97EGJAXIwIvLrUR7jcqnKmYzLDapd0EqtZfetdHTXMHFXWWPn31qOBcXPcymnEUyCAUOcvL/ECLh5o9G5tDXMrvLlMb7gk9IqGvJlH7jUphwkFmzEm2caFujwMEWmZqNTx+e05Td8CoiQZqeYVU9LCBF9njYXs4S/FxCQnRLccDoyd7aY6mYOTktESW1RiAjicWIVCPTvYESarIEQ/sfByv/YJWd01O/sZ7bHvTOnY2fnXfcR+ZMbcDZvMXRAcneMGOJw0zEi1DNSy7kpOjbCIBaF/esjZIj1cIXLKnbkSHDE9/+RFXiDK5WvY+zjp48G33QfO8gIEGyXmTXCRFD9cTmBs+PBtelz+jNrnXg8+PMMtljIDLkQ7Hvlu/iU3vb+q3BaIwf7K8KQbFSOLMloNycIlFkQM7ZGIvjZ7llpTYqL6xU98y7fT7QrQqoEB0i/ZUjR2tofr2aLY53cPRSNYjpb+UWFltNETevx9z2GeIWWwa7Z/x/hpw5LSkgg+hsrKG/w3/Mb/9bl33T6/3uE7U/kwFFs7LTXNSYYtDbGg+3m0We+6r3l5VdTl8KBr+erIpJtb1BQ/xNHcwMtLfHv5uBUqGGe1mN4e5bxD+6KrCglVf5AxFAdBjeijYRdHVVVY7mCNzeNzPQs2xn6ziF1Mc9YUDn8nnzerAPvkLDstqyCTrMaCLHjt/rDYg0qbhSJhpkHsrrcecepb0RFm1hF4Hax6foFnw/5IIPlQb9tLDyaRF4qsxoJm8Kq98VuXajxdkjLsOhmYuSpmlwe+vcIXGVbBVfRCFj2rYGJKYkEc+oB/HeVq14hyP48cEb/aWQJvodzT6nv/mjf4dw5L9qoCgtWhMFb4TvaqknGHmFiQCG795WEn4t1I5kd4E7FrLhOdxk6oVfii4AVF0XhfjetYPn0muWk9XlUAPbGASLP6cXPHuxACieuFgIP1U3nhwlVzZeGI0ImPk+sF+eihKp+yFKYCXIgFnXAaz/TRToxj+V23t49H/BN+8qMlOclmvrcrrxnY8kKNuj2R6kgbOZQ4Wr5Xq4SXhydRHdYaUgB8c2GuRAsRaKh/nx3kQFPFSSXs4Zs0kNeylAqdeWlfngFCmP5lJJdBx5jMRMIw9BVwGORHLadlPIeNBSjdn4cnZd8Z1tJQRoj4EgtKDOpme/Ju4pLUdpnH3sH9m2NEkFMyBMvA0W201xN3J95/C+ee768acycWMho/wD51KOUa+cn3Oex8OyG/whO9v3WTLVPp/JYY6Dw32D5hQOS+xkgQC9YZ3icxZ5yTxGVySwsrasHoWTxyOQ/tYSPZWADYMZAaHd7mCK3FjhCxoBb68rPHuVyJ4Y7jHr6tRrCq3JAv3p8UJmI4Kfe9MS4dUT20MikkfeSIhYyxKmHBU67mYaw4hYvhjg41iFj1Uy3jB+hfR4kwfPMmJPdqHYXFIBElFriFYxAXP53S6UY9/VJ4Lp66h3gcEPKdGfDfAZ0S9LkD2zeKWzQpuSNznGPaskeaWNAeEU3nZCc/cIvm7vfIPrZWDTj7pGnRpZCWnhr3WH/NlRama998xJnsiIJ9ywtNuWxGK4w5qws+WFfEGByrTcO4BU+lxPxgUBJD7E39zbtuxjMf0VWfcJf90X525cPAJTMivBk1RqMMT97jmJ3NOl096R57zWQVgIJDayKbLxBxpt74jfOx/lFmFXSOJrGQfe/WCcsmp6A2wm+Fq0V6XK/WmptOBYHV7hE2vPdqpdIN6NrMigULLKdURqD40WwKK4qHpaczVvpWbC/JL5ReMj/rMWffdjWaWMDq3NXSQa+7JXsOqKgmDLBzmgWqMJOmH1Guscp1RbcADpulk5MR6auq9jhxSrAKsDSsHTe0h8TXhTh4Hz/pMhSroK0haqwKMrl9wffXFuK8zKJfV3tjC/+0YTQu+4pcqu8PVO3T/se7eve/D7bERA0m4yfe7eC9fksHYsYiVnkB8nzBL3eUBIJl3ZrGd2yi0rHQUebq/goCmH972G+zmvu0iafauEyOiRGJRV5IITDyCEj0aSKvhMgx9hAQxIo9mxqiRIJYhjBD7CkhiBV7NjVEiQSxDGGG2FNCECv2bGqIEgliGcIMsaeEIFbs2dQQJRLEMoQZYk8JQazYs6khSiSIZQgzxJ4SglixZ1NDlEgQyxBmiD0lBLFiz6aGKJEgliHMEHtKCGLFnk0NUSJBLEOYIfaUEMSKPZsaokSCWIYwQ+wpIYgVezY1RIn+BTjkETf70+4LAAAAAElFTkSuQmCC',
      'base64',
    ),
  ],
  'mock_file_2.png',
  { type: 'image/png' },
)

const MOCK_REJECTED_FILE: FileRejection = {
  file: MOCK_OGP_LOGO_FILE,
  errors: [
    {
      code: ErrorCode.FileTooLarge,
      message: 'Failed to upload. This file exceeds the size limit.',
    },
  ],
}

export default {
  title: 'Components/Attachment',
  component: Attachment,
  tags: ['autodocs'],
  decorators: [],
  args: {
    name: 'Test-input',
    maxSize: 23000,
  },
} as Meta<AttachmentProps>

const Template: StoryFn<AttachmentProps> = ({
  value = [],
  rejections,
  ...args
}) => {
  const [files, setFiles] = useState<File[]>(value)
  const [fileRejections, setFileRejections] = useState<
    FileRejection[] | undefined
  >(rejections)

  return (
    <Attachment
      {...args}
      value={files}
      onChange={setFiles}
      rejections={fileRejections}
      onRejection={setFileRejections}
    />
  )
}

export const Default = Template.bind({})

export const OnlyAcceptImages = Template.bind({})
OnlyAcceptImages.args = {
  accept: ['image/*'],
}

export const ShowMaxSize = Template.bind({})
ShowMaxSize.args = {
  showFileSize: true,
}

export const Invalid = Template.bind({})
Invalid.args = {
  isInvalid: true,
}

export const Disabled = Template.bind({})
Disabled.args = {
  isDisabled: true,
}

export const WithUploadedFile = Template.bind({})
WithUploadedFile.args = {
  value: [MOCK_OGP_LOGO_FILE],
}

export const WithUploadedFileDisabled = Template.bind({})
WithUploadedFileDisabled.args = {
  ...WithUploadedFile.args,
  isDisabled: true,
}

export const WithSmallImagePreview = Template.bind({})
WithSmallImagePreview.args = {
  ...WithUploadedFile.args,
  imagePreview: 'small',
}

export const WithLargeImagePreview = Template.bind({})
WithLargeImagePreview.args = {
  ...WithUploadedFile.args,
  imagePreview: 'large',
}
WithLargeImagePreview.parameters = getMobileViewParameters()

export const WithMultipleUpload = Template.bind({})
WithMultipleUpload.args = {
  multiple: true,
}

export const WithMultipleUploadedFiles = Template.bind({})
WithMultipleUploadedFiles.args = {
  ...WithMultipleUpload.args,
  value: [MOCK_OGP_LOGO_FILE, MOCK_OGP_ICON_FILE],
}

export const WithRejectedFile = Template.bind({})
WithRejectedFile.args = {
  rejections: [MOCK_REJECTED_FILE],
}
